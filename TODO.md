# TODO

- [x] 优化项目 README，加入套壳图等。写详细的说明文档
- [x] 正常显示 Cloudflare R2 bucket 某个路径下的所有图片
- [x] 点击图片展示大图
- [x] 日夜间模式切换按钮
- [x] 大图显示对应的 exif 信息
- [x] 每页底部有点击加载的按钮，加载下一页的图片，并保留显示之前的所有图片
- [x] 在底栏增加版权信息和外链
- [x] 页面标题栏美化，改名并加顶栏，以便后续放标签等信息
- [x] 每页最少显示 2 列图片，并随着页面宽度的增加，逐步增加显示的列数，最多显示 6 列图片，在页面宽度增加的时候保持列宽不变；如果显示到 6 列之后屏幕宽度仍然继续增加，则在页面左右两侧增加空白。
- [x] 根据显示列数动态调整每页加载的图片数量
- [x] 创建缩略图以供预览加载
- [x] 加入标签系统，使用标签筛选图片
- [x] 压缩图片的过程中保留原图的 metadata 信息，使图片的旋转方向正常
- [x] 在 R2 目录下所有图片都加载完成后，把"加载更多"按钮的文字替换为"已全部加载"，并变成灰色不可点的状态
- [x] 在顶栏 GitHub 按钮左侧，加入一个按钮，可以切换页面滚动到底部自动点击"加载更多"按钮或不自动点击。
- [x] 在代码上优化，加快 exif 信息的加载速度。比如让图片和 EXIF 信息并行加载；仅加载需要显示的 exif 信息
- [ ] 加入 i18n
- [x] 加入进度加载显示的百分比
- [x] 加入可选预览图片不压缩、或自行设置压缩百分比
- [x] 只加载图片，不要检查图片是否存在缩略图
- [x] 生成缩略图的步骤应该是异步进行的，如果遇到有图片没有缩略图，那么请继续进行，在另外的线程生成缩略图。

使用更高效的压缩方式生成缩略图（例如使用webp与采用更高效的压缩算法），可以缩小缩略图体积且提供比当前更清晰的效果。当远程图库上还没有需要加载图片的缩略图时，请自动生成webp缩略图（自动根据图片复杂度调整压缩率）存放在远程图库的0_preview文件夹下。缩略图生成时，请保留方向信息，避免缩略图与原图方向不一致。每张缩略图生成成功后请立即展示出来。缩略图请多线程(默认为3)生成。缩略图生成时，请也在页面上提示，把"加载中"的提示文字变为"缩略图生成中"。在缩略图未正常加载并展示出来之前，请禁止点开大图。请避免修改过多内容。在缩略图展示出来前，不需要显示图片占位符。缩略图生成时详细的log请在node客户端打印出来。缩略图加载不出来的时候也不要加载原图，而是创建缩略图。请参考原有代码的路由以免发生错误。